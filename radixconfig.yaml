apiVersion: radix.equinor.com/v1
kind: RadixApplication
metadata:
  name: procosys-commissioning-webapp
spec:
  environments:
  - name: dev-test
    build:
      from: refactor-api-calls
  - name: dev
    build:
      from: main
  - name: test
    build:
      from: main
  - name: prod
    build:
      from: main
  components:
  - name: frontend
    publicPort: http
    ports:
    - name: http
      port: 8080
    environmentConfig:
    # Development environment
    - environment: dev
      variables:
        pcs_authSettingsEndpoint: 'https://pcs-config-non-prod-func.azurewebsites.net/api/CommWebApp/Auth'
    - environment: test
      variables:
        pcs_authSettingsEndpoint: 'https://pcs-config-non-prod-func.azurewebsites.net/api/CommWebApp/Auth'
    - environment: prod
      variables:
        pcs_authSettingsEndpoint: 'https://pcs-config-prod-func.azurewebsites.net/api/CommWebApp/Auth'